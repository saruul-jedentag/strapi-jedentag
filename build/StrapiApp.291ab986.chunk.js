(self.webpackChunkbackend_jedentag=self.webpackChunkbackend_jedentag||[]).push([[5762],{95423:(b,E,t)=>{var o={"./ar.json":[53803,7958],"./ca.json":[67634,3516],"./cs.json":[67278,7519],"./de.json":[52961,6901],"./dk.json":[72259,7898],"./en.json":[49898,320],"./es.json":[86702,8367],"./eu.json":[38153,8360],"./fr.json":[10542,8006],"./gu.json":[66003,2248],"./he.json":[51574,830],"./hi.json":[16007,6332],"./hu.json":[61919,5894],"./id.json":[1354,8897],"./it.json":[57442,6817],"./ja.json":[72185,1312],"./ko.json":[92975,1377],"./ml.json":[78270,9903],"./ms.json":[16427,3025],"./nl.json":[35566,2671],"./no.json":[39217,562],"./pl.json":[2506,7846],"./pt-BR.json":[61913,9647],"./pt.json":[57786,3340],"./ru.json":[76711,123],"./sa.json":[55119,9726],"./sk.json":[19043,606],"./sv.json":[42862,9303],"./th.json":[15364,749],"./tr.json":[49394,395],"./uk.json":[88068,7403],"./vi.json":[93473,3278],"./zh-Hans.json":[23407,2553],"./zh.json":[70326,1011]};function c(p){if(!t.o(o,p))return Promise.resolve().then(()=>{var H=new Error("Cannot find module '"+p+"'");throw H.code="MODULE_NOT_FOUND",H});var g=o[p],l=g[0];return t.e(g[1]).then(()=>t.t(l,19))}c.keys=()=>Object.keys(o),c.id=95423,b.exports=c},28615:(b,E,t)=>{"use strict";t.r(E),t.d(E,{default:()=>mt});var o=t(67294),c=t(42675),p=t(38992),g=t(41143),l=t.n(g),H=t(23560),U=t.n(H),h=t(82492),v=t.n(h),$=t(78718),G=t.n($),le=t(64593),I=t(73727),V=t(61473);const fe="strapi-admin-language";var T=t(57993),B=t(45697),n=t.n(B),x=t(88767),D=t(86706),w=t(18542),F=t(18172);const Z={menuLogo:null,authLogo:null},X=(a=Z,e)=>(0,F.ZP)(a,s=>{switch(e.type){case"UPDATE_PROJECT_SETTINGS":{Object.assign(s,e.values);break}default:return s}}),ne=({children:a,authLogo:e,menuLogo:s,showReleaseNotification:i,showTutorials:r})=>{const[{menuLogo:u,authLogo:d},S]=(0,o.useReducer)(X,Z),O=(0,o.useCallback)(({menuLogo:K,authLogo:P})=>S({type:"UPDATE_PROJECT_SETTINGS",values:{menuLogo:K||s,authLogo:P||e}}),[e,s]),N=(0,o.useMemo)(()=>({logos:{menu:{custom:u,default:s},auth:{custom:d,default:e}},updateProjectSettings:O,showReleaseNotification:i,showTutorials:r}),[u,s,d,e,O,i,r]);return o.createElement(w._5.Provider,{value:N},a)};ne.propTypes={authLogo:n().string.isRequired,children:n().element.isRequired,menuLogo:n().string.isRequired,showReleaseNotification:n().bool.isRequired,showTutorials:n().bool.isRequired};const Te=ne;var Le=t(27361),je=t.n(Le),be=t(36968),ye=t.n(be),z=t(46061);const ke=a=>{const e={...a},s=z.ZP.get(z.JN),i=z.ZP.get(z.ik),r=z.ZP.get(z.kb);if(s&&s.forEach(u=>{const[d,S]=u.split(".");ye()(e,["guidedTourState",d,S],!0)}),i){const[u,d]=i.split(".");ye()(e,["guidedTourState",u,d],!0),z.ZP.addCompletedStep(i),z.ZP.addCurrentStep(null)}return r!==null&&ye()(e,"isSkipped",r),e},ve={currentStep:null,guidedTourState:{contentTypeBuilder:{create:!1,success:!1},contentManager:{create:!1,success:!1},apiTokens:{create:!1,success:!1}},isGuidedTourVisible:!1,isSkipped:!0},Oe=(a=ve,e)=>(0,F.ZP)(a,s=>{switch(e.type){case"SET_CURRENT_STEP":{s.currentStep=e.step;break}case"SET_STEP_STATE":{const[i,r]=e.currentStep.split(".");s.guidedTourState[i][r]=e.value;break}case"SET_SKIPPED":{s.isSkipped=e.value;break}case"SET_GUIDED_TOUR_VISIBILITY":{s.isGuidedTourVisible=e.value;break}default:return s}}),xe=(a,e)=>{const s=Object.entries(e),i=s.findIndex(([u])=>u===a);return s.slice(0,i).every(([,u])=>Object.values(u).every(Boolean))},y=(a,e)=>{const s=a.split("."),i=s[1],r=Object.entries(e[s[0]]),u=r.findIndex(([S])=>S===i);return r.slice(0,u).every(([,S])=>S)},m=({children:a})=>{const[{currentStep:e,guidedTourState:s,isGuidedTourVisible:i,isSkipped:r},u]=(0,o.useReducer)(Oe,ve,ke),d=P=>{if(P!==null){const k=je()(s,P),ee=y(P,s);if(k||r||!ee)return null}return z.ZP.addCurrentStep(P),u({type:"SET_CURRENT_STEP",step:P})},S=P=>{u({type:"SET_GUIDED_TOUR_VISIBILITY",value:P})},O=(P,k)=>{z.ZP.addCompletedStep(P),u({type:"SET_STEP_STATE",currentStep:P,value:k})},N=P=>{const k=s[P];if(k){const ee=xe(P,s),te=Object.keys(k)[0],Pe=k[te];if(ee&&!e&&!Pe)return d(`${P}.${te}`)}return null},K=P=>{z.ZP.setSkipped(P),u({type:"SET_SKIPPED",value:P})};return o.createElement(T.Zc,{guidedTourState:s,currentStep:e,setCurrentStep:d,setGuidedTourVisibility:S,setSkipped:K,setStepState:O,startSection:N,isGuidedTourVisible:i,isSkipped:r},a)};m.propTypes={children:n().element.isRequired};const f=m;var W=t(66913),oe=t.n(W),J=t(29558),ie=t(72955);const Y=({changeLocale:a,children:e,localeNames:s})=>o.createElement(ie.Z.Provider,{value:{changeLocale:a,localeNames:s}},e);Y.propTypes={changeLocale:n().func.isRequired,children:n().element.isRequired,localeNames:n().object.isRequired};const ae=Y,A=a=>{const e=window.localStorage.getItem(fe);return{locale:a[e]?e:"en",localeNames:a}},R={localeNames:{en:"English"},locale:"en"},Se=(a=R,e)=>{switch(e.type){case"CHANGE_LOCALE":{const{locale:s}=e;return a.localeNames[s]?{...a,locale:s}:a}default:return a}},de=({children:a,localeNames:e,messages:s})=>{const[{locale:i},r]=(0,o.useReducer)(Se,R,()=>A(e));(0,o.useEffect)(()=>{window.localStorage.setItem(fe,i),document.documentElement.setAttribute("lang",i)},[i]);const u=S=>{r({type:"CHANGE_LOCALE",locale:S})},d=oe()(s[i],s.en);return o.createElement(J.Z,{locale:i,defaultLocale:"en",messages:d,textComponent:"span"},o.createElement(ae,{changeLocale:u,localeNames:e},a))};de.propTypes={children:n().element.isRequired,localeNames:n().objectOf(n().string).isRequired,messages:n().object.isRequired};const me=de;var Ce=t(22837),ge=t(86896),he=t(72986),Ee=t(88972);const j=(0,Ee.vJ)`
  body {
    background: ${({theme:a})=>a.colors.neutral100};
  }
`,C=({children:a})=>{const{currentTheme:e,themes:s}=(0,he.M1)(),{locale:i}=(0,ge.Z)();return o.createElement(Ce.h,{locale:i,theme:s[e]||s.light},a,o.createElement(j,null))};C.propTypes={children:n().element.isRequired};const M=C,q="STRAPI_THEME",we=()=>{const a=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",e=localStorage.getItem(q);return e||localStorage.setItem(q,a),e||a},Ue=({children:a,themes:e})=>{const[s,i]=(0,o.useState)(we()),r=(0,o.useCallback)(d=>{i(d),localStorage.setItem(q,d)},[i]),u=(0,o.useMemo)(()=>({currentTheme:s,onChangeTheme:r,themes:e}),[s,r,e]);return o.createElement(w.Rj.Provider,{value:u},a)};Ue.propTypes={children:n().node.isRequired,themes:n().shape({light:n().shape({colors:n().object.isRequired,shadows:n().object.isRequired,sizes:n().object.isRequired,zIndices:n().array.isRequired,spaces:n().array.isRequired,borderRadius:n().string.isRequired,mediaQueries:n().object.isRequired,fontSizes:n().array.isRequired,lineHeights:n().array.isRequired,fontWeights:n().object.isRequired}).isRequired,dark:n().shape({colors:n().object.isRequired,shadows:n().object.isRequired,sizes:n().object.isRequired,zIndices:n().array.isRequired,spaces:n().array.isRequired,borderRadius:n().string.isRequired,mediaQueries:n().object.isRequired,fontSizes:n().array.isRequired,lineHeights:n().array.isRequired,fontWeights:n().object.isRequired}).isRequired,custom:n().object}).isRequired};const Je=Ue,Ye=new x.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),Ge=({authLogo:a,children:e,components:s,customFields:i,fields:r,getAdminInjectedComponents:u,getPlugin:d,localeNames:S,menu:O,menuLogo:N,messages:K,plugins:P,runHookParallel:k,runHookSeries:ee,runHookWaterfall:te,settings:Pe,showReleaseNotification:L,showTutorials:se,store:Ie,themes:gt})=>o.createElement(me,{messages:K,localeNames:S},o.createElement(Je,{themes:gt},o.createElement(M,null,o.createElement(x.QueryClientProvider,{client:Ye},o.createElement(D.zt,{store:Ie},o.createElement(w.ux.Provider,{value:{getAdminInjectedComponents:u}},o.createElement(Te,{authLogo:a,menuLogo:N,showReleaseNotification:L,showTutorials:se},o.createElement(T._Y,{getPlugin:d,menu:O,plugins:P,runHookParallel:k,runHookWaterfall:te,runHookSeries:ee,settings:Pe},o.createElement(T.rt,{components:s,fields:r},o.createElement(T.MG,{customFields:i},o.createElement(T.m$,null,o.createElement(T.w7,null,o.createElement(f,null,o.createElement(T.N$,null,e))))))))))))));Ge.propTypes={authLogo:n().oneOfType([n().string,n().any]).isRequired,children:n().element.isRequired,components:n().object.isRequired,customFields:n().object.isRequired,fields:n().object.isRequired,getAdminInjectedComponents:n().func.isRequired,getPlugin:n().func.isRequired,localeNames:n().objectOf(n().string).isRequired,menu:n().arrayOf(n().shape({to:n().string.isRequired,icon:n().func.isRequired,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired,permissions:n().array,Component:n().func})).isRequired,menuLogo:n().oneOfType([n().string,n().any]).isRequired,messages:n().object.isRequired,plugins:n().object.isRequired,runHookParallel:n().func.isRequired,runHookWaterfall:n().func.isRequired,runHookSeries:n().func.isRequired,settings:n().object.isRequired,showReleaseNotification:n().bool.isRequired,showTutorials:n().bool.isRequired,store:n().object.isRequired,themes:n().shape({light:n().shape({colors:n().object.isRequired,shadows:n().object.isRequired,sizes:n().object.isRequired,zIndices:n().array.isRequired,spaces:n().array.isRequired,borderRadius:n().string.isRequired,mediaQueries:n().object.isRequired,fontSizes:n().array.isRequired,lineHeights:n().array.isRequired,fontWeights:n().object.isRequired}).isRequired,dark:n().shape({colors:n().object.isRequired,shadows:n().object.isRequired,sizes:n().object.isRequired,zIndices:n().array.isRequired,spaces:n().array.isRequired,borderRadius:n().string.isRequired,mediaQueries:n().object.isRequired,fontSizes:n().array.isRequired,lineHeights:n().array.isRequired,fontWeights:n().object.isRequired}).isRequired,custom:n().object}).isRequired};const Qe=Ge;var Be=t(48198),Re=t(14890);const Xe=(a,e)=>{let s=Re.compose;const i=[];a.forEach(u=>{i.push(u())});const r=(0,Re.createStore)(ze(e,{}),{},s((0,Re.applyMiddleware)(...i)));return r.asyncReducers={},r.injectReducer=(u,d)=>{r.asyncReducers[u]=d,r.replaceReducer(ze(e,r.asyncReducers))},r},ze=(a,e)=>(0,Re.combineReducers)({...a,...e}),qe=Xe;var _e=t(95651);const et=()=>{const a=[];return{register(e){a.push(e)},delete(e){a.splice(a.indexOf(e),1)},runWaterfall(e,s){return a.reduce((i,r)=>r(i,s),e)},async runWaterfallAsync(e,s){let i=e;for(const r of a)i=await r(i,s);return i},runSeries(...e){return a.map(s=>s(...e))},async runSeriesAsync(...e){const s=[];for(const i of a)s.push(await i(...e));return s},runParallel(...e){return Promise.all(a.map(s=>s(...e)))}}};var Ae=t(85338);const tt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAXVBMVEUAAABIRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9JRf9IRf9IRP5IRP5JRP9JRf////+Vk/+zsv++vf9mY/9taf9/fP+Jh//c3P9RTf/Ibar2AAAAFHRSTlMA/MJX+fPt48cahaff1dMaGqcahSpTPmAAAAEvSURBVFjD7dfNTsMwEATgXcf5cdKEtixtcYH3f0xEibIguba1g8Slc+58iqUedmhNaMbJzX3Xema5G2bfdv3iprE50s80g7Yqw0Oz1Z+cmOL2a38nxuy+BSfmuNv7BUhDRAMCDESBEYCDvsD6hmcMGGnCgIkcBjhaMGCmHgN66jCgoxYDWvIY4IkxgHFAkrmeU7kmfpkG4uUllXMtEE82QPs2QPs2QPs2QPs2QPsAoH0DoH0LoH0QeN3ydtnyXg38ok76MQ/gAfwf8JH8V18LQOljomBAFAyIkga4CGT7XAtEuQf4IpDri6e2BoiZA6OrAGLuxOnLQMweWXMRyPVlwQ/NAwZMNGLACJ/76ODYo5MHHl3o7EOHZ6BbjtbpG/5kfOv8P7ilbv7PX/M/rMVPqrI3XI3nd3sAAAAASUVORK5CYII=",st={admin:{tutorials:{links:[]}},contentManager:{editView:{informations:[],"right-links":[]},listView:{actions:[],deleteModalAdditionalInfos:[],publishModalAdditionalInfos:[],unpublishModalAdditionalInfos:[]}}};var nt=t(727),_=t(16550);const Fe=({component:a,path:e,...s})=>{const{pathname:i,search:r}=(0,_.TH)();return o.createElement(_.AW,{path:e,render:u=>T.I8.getToken()!==null?o.createElement(a,{...s,...u}):o.createElement(_.l_,{to:{pathname:"/auth/login",search:i!=="/"&&`?redirectTo=${encodeURIComponent(`${i}${r}`)}`}})})};Fe.propTypes={component:n().any.isRequired,path:n().string.isRequired};const Ze=(0,o.memo)(Fe),We={contentManager:{main:[],collectionTypesConfigurations:[{action:"plugin::content-manager.collection-types.configure-view",subject:null}],componentsConfigurations:[{action:"plugin::content-manager.components.configure-layout",subject:null}],singleTypesConfigurations:[{action:"plugin::content-manager.single-types.configure-view",subject:null}]},marketplace:{main:[{action:"admin::marketplace.read",subject:null}],read:[{action:"admin::marketplace.read",subject:null}]},settings:{roles:{main:[{action:"admin::roles.create",subject:null},{action:"admin::roles.update",subject:null},{action:"admin::roles.read",subject:null},{action:"admin::roles.delete",subject:null}],create:[{action:"admin::roles.create",subject:null}],delete:[{action:"admin::roles.delete",subject:null}],read:[{action:"admin::roles.read",subject:null}],update:[{action:"admin::roles.update",subject:null}]},users:{main:[{action:"admin::users.create",subject:null},{action:"admin::users.read",subject:null},{action:"admin::users.update",subject:null},{action:"admin::users.delete",subject:null}],create:[{action:"admin::users.create",subject:null}],delete:[{action:"admin::users.delete",subject:null}],read:[{action:"admin::users.read",subject:null}],update:[{action:"admin::users.update",subject:null}]},webhooks:{main:[{action:"admin::webhooks.create",subject:null},{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],create:[{action:"admin::webhooks.create",subject:null}],delete:[{action:"admin::webhooks.delete",subject:null}],read:[{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],update:[{action:"admin::webhooks.update",subject:null}]},"api-tokens":{main:[{action:"admin::api-tokens.access",subject:null}],create:[{action:"admin::api-tokens.create",subject:null}],delete:[{action:"admin::api-tokens.delete",subject:null}],read:[{action:"admin::api-tokens.read",subject:null}],update:[{action:"admin::api-tokens.update",subject:null}],regenerate:[{action:"admin::api-tokens.regenerate",subject:null}]},"transfer-tokens":{main:[{action:"admin::transfer.tokens.access",subject:null}],create:[{action:"admin::transfer.tokens.create",subject:null}],delete:[{action:"admin::transfer.tokens.delete",subject:null}],read:[{action:"admin::transfer.tokens.read",subject:null}],update:[{action:"admin::transfer.tokens.update",subject:null}],regenerate:[{action:"admin::transfer.tokens.regenerate",subject:null}]},"project-settings":{read:[{action:"admin::project-settings.read",subject:null}],update:[{action:"admin::project-settings.update",subject:null}]}}};var ot=t(70701),Ke=t(80902),$e=t(63128);const it=o.lazy(()=>t.e(8826).then(t.bind(t,35500)).then(a=>({default:a.AuthPage}))),at=o.lazy(()=>Promise.all([t.e(2590),t.e(3349)]).then(t.bind(t,89971)).then(a=>({default:a.AuthenticatedApp}))),rt=o.lazy(()=>t.e(9884).then(t.bind(t,51002)).then(a=>({default:a.UseCasePage}))),Ve=o.lazy(()=>t.e(5788).then(t.bind(t,22410)).then(a=>({default:a.NotFoundPage}))),lt=o.lazy(()=>t.e(9501).then(t.bind(t,65408)).then(a=>({default:a.InternalErrorPage})));function ut(){const{updateProjectSettings:a}=(0,ot.Z)(),{formatMessage:e}=(0,ge.Z)(),s=(0,D.I0)(),{get:i,post:r}=(0,T.kY)(),u=(0,Ke.c)(We,async()=>(await t.e(2786).then(t.bind(t,32786))).ADMIN_PERMISSIONS_EE,{combine(L,se){return v()({},L,se)},defaultValue:We}),d=(0,Ke.c)($e.hf,async()=>(await t.e(7378).then(t.bind(t,17378))).AUTH_ROUTES_EE,{defaultValue:[]}),[{hasAdmin:S,uuid:O},N]=o.useState({hasAdmin:!1,uuid:void 0});o.useEffect(()=>{s({type:$e.XS,payload:u})},[u,s]);const[{data:K,error:P},{data:k,isLoading:ee},{data:te}]=(0,x.useQueries)([{queryKey:"renew-token",async queryFn(){const{data:{data:{token:L}}}=await r("/admin/renew-token",{token:T.I8.getToken()});return L},enabled:!!T.I8.getToken()},{queryKey:"init",async queryFn(){const{data:{data:L}}=await i("/admin/init");return L}},{queryKey:"telemetry-properties",async queryFn(){const{data:{data:L}}=await i("/admin/telemetry-properties",{validateStatus:se=>se<500});return L},enabled:!!T.I8.getToken()}]);o.useEffect(()=>{P?(T.I8.clearAppStorage(),window.location.reload()):K&&T.I8.updateToken(K)},[P,K]),o.useEffect(()=>{!ee&&k&&(a({menuLogo:(0,T.CR)(k.menuLogo),authLogo:(0,T.CR)(k.authLogo)}),N(L=>({...L,hasAdmin:k.hasAdmin,uuid:k.uuid})))},[k,ee,a]),o.useEffect(()=>{async function L(){await fetch("https://analytics.strapi.io/api/v2/track",{body:JSON.stringify({event:"didInitializeAdministration",userId:"",eventPropeties:{},userProperties:{},groupProperties:{...te,projectId:O}}),headers:{"Content-Type":"application/json","X-Strapi-Event":"didInitializeAdministration"},method:"POST"})}O&&L()},[te,O]);const Pe=o.useMemo(()=>({uuid:O,telemetryProperties:te}),[O,te]);return ee?o.createElement(T.dO,null):o.createElement(o.Suspense,{fallback:o.createElement(T.dO,null)},o.createElement(nt.z,null,e({id:"skipToContent"})),o.createElement(T.L8,{value:Pe},o.createElement(_.rs,null,d.map(({path:L,component:se})=>o.createElement(_.AW,{key:L,path:L,component:se,exact:!0})),o.createElement(_.AW,{path:"/auth/:authType",render:L=>o.createElement(it,{...L,setHasAdmin:se=>N(Ie=>({...Ie,hasAdmin:se})),hasAdmin:S}),exact:!0}),o.createElement(Ze,{path:"/usecase",component:rt}),o.createElement(Ze,{path:"/",component:at}),o.createElement(_.AW,{path:"/404",component:Ve}),o.createElement(_.AW,{path:"/500",component:lt}),o.createElement(_.AW,{path:"",component:Ve}))))}const ct={ar:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",ca:"Catal\xE0",cs:"\u010Ce\u0161tina",de:"Deutsch",dk:"Dansk",en:"English",es:"Espa\xF1ol",eu:"Euskara",fr:"Fran\xE7ais",gu:"Gujarati",he:"\u05E2\u05D1\u05E8\u05D9\u05EA",hu:"Magyar",id:"Indonesian",it:"Italiano",ja:"\u65E5\u672C\u8A9E",ko:"\uD55C\uAD6D\uC5B4",ml:"Malayalam",ms:"Melayu",nl:"Nederlands",no:"Norwegian",pl:"Polski","pt-BR":"Portugu\xEAs (Brasil)",pt:"Portugu\xEAs (Portugal)",ru:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",sk:"Sloven\u010Dina",sv:"Swedish",th:"\u0E44\u0E17\u0E22",tr:"T\xFCrk\xE7e",uk:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",vi:"Ti\u1EBFng Vi\u1EC7t","zh-Hans":"\u4E2D\u6587 (\u7B80\u4F53)",zh:"\u4E2D\u6587 (\u7E41\u9AD4)",sa:"\u0938\u0902\u0938\u094D\u0915\u0943\u0924",hi:"\u0939\u093F\u0928\u094D\u0926\u0940"};class dt{constructor({adminConfig:e,appPlugins:s,library:i,middlewares:r,reducers:u}){this.customConfigurations=e.config,this.customBootstrapConfiguration=e.bootstrap,this.configurations={authLogo:V,head:{favicon:tt},locales:["en"],menuLogo:V,notifications:{releases:!0},themes:{light:c.W,dark:p.$},translations:{},tutorials:!0},this.appPlugins=s||{},this.library=i,this.middlewares=r,this.plugins={},this.reducers=u,this.translations={},this.hooksDict={},this.admin={injectionZones:st},this.customFields=Be.rh,this.menu=[],this.settings={global:{id:"global",intlLabel:{id:"Settings.global",defaultMessage:"Global Settings"},links:[]}}}addComponents=e=>{Array.isArray(e)?e.map(s=>this.library.components.add(s)):this.library.components.add(e)};addCorePluginMenuLink=e=>{const s=JSON.stringify(e);l()(e.to,`link.to should be defined for ${s}`),l()(typeof e.to=="string",`Expected link.to to be a string instead received ${typeof e.to}`),l()(["/plugins/content-type-builder","/plugins/upload"].includes(e.to),"This method is not available for your plugin"),l()(e.intlLabel?.id&&e.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${s}`),this.menu.push(e)};addFields=e=>{Array.isArray(e)?e.map(s=>this.library.fields.add(s)):this.library.fields.add(e)};addMenuLink=e=>{const s=JSON.stringify(e);l()(e.to,`link.to should be defined for ${s}`),l()(typeof e.to=="string",`Expected link.to to be a string instead received ${typeof e.to}`),l()(e.intlLabel?.id&&e.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${s}`),l()(e.Component&&typeof e.Component=="function","link.Component should be a valid React Component"),l()(e.icon&&typeof e.icon=="function","link.Icon should be a valid React Component"),this.menu.push(e)};addMiddlewares=e=>{e.forEach(s=>{this.middlewares.add(s)})};addReducers=e=>{Object.keys(e).forEach(s=>{this.reducers.add(s,e[s])})};addSettingsLink=(e,s)=>{l()(this.settings[e],"The section does not exist");const i=JSON.stringify(s);l()(s.id,`link.id should be defined for ${i}`),l()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${i}`),l()(s.to,`link.to should be defined for ${i}`),l()(s.Component&&typeof s.Component=="function","link.Component should be a valid React Component"),this.settings[e].links.push(s)};addSettingsLinks=(e,s)=>{l()(this.settings[e],"The section does not exist"),l()(Array.isArray(s),"TypeError expected links to be an array"),s.forEach(i=>{this.addSettingsLink(e,i)})};async bootstrap(){Object.keys(this.appPlugins).forEach(e=>{const s=this.appPlugins[e].bootstrap;s&&s({addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}),U()(this.customBootstrapConfiguration)&&this.customBootstrapConfiguration({addComponents:this.addComponents,addFields:this.addFields,addMenuLink:this.addMenuLink,addReducers:this.addReducers,addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}bootstrapAdmin=async()=>(await this.createCustomConfigurations(),this.createHook(Ae.No),this.createHook(Ae.LK),this.createHook(Ae.dV),this.createHook(Ae.Eo),Promise.resolve());createCustomConfigurations=async()=>{if(this.customConfigurations?.locales&&(this.configurations.locales=["en",...this.customConfigurations.locales?.filter(e=>e!=="en")||[]]),this.customConfigurations?.auth?.logo&&(this.configurations.authLogo=this.customConfigurations.auth.logo),this.customConfigurations?.menu?.logo&&(this.configurations.menuLogo=this.customConfigurations.menu.logo),this.customConfigurations?.head?.favicon&&(this.configurations.head.favicon=this.customConfigurations.head.favicon),this.customConfigurations?.theme){const e=this.customConfigurations.theme.dark,s=this.customConfigurations.theme.light;!e&&!s&&(console.warn("[deprecated] In future versions, Strapi will stop supporting this theme customization syntax. The theme configuration accepts a light and a dark key to customize each theme separately. See https://docs.strapi.io/developer-docs/latest/development/admin-customization.html#theme-extension."),v()(this.configurations.themes.light,this.customConfigurations.theme)),s&&v()(this.configurations.themes.light,s),e&&v()(this.configurations.themes.dark,e)}this.customConfigurations?.notifications?.releases!==void 0&&(this.configurations.notifications.releases=this.customConfigurations.notifications.releases),this.customConfigurations?.tutorials!==void 0&&(this.configurations.tutorials=this.customConfigurations.tutorials)};createHook=e=>{this.hooksDict[e]=et()};createSettingSection=(e,s)=>{l()(e.id,"section.id should be defined"),l()(e.intlLabel?.id&&e.intlLabel?.defaultMessage,"section.intlLabel should be defined"),l()(Array.isArray(s),"TypeError expected links to be an array"),l()(this.settings[e.id]===void 0,"A similar section already exists"),this.settings[e.id]={...e,links:[]},s.forEach(i=>{this.addSettingsLink(e.id,i)})};createStore=()=>qe(this.middlewares.middlewares,this.reducers.reducers);getAdminInjectedComponents=(e,s,i)=>{try{return this.admin.injectionZones[e][s][i]||[]}catch(r){return console.error("Cannot get injected component",r),r}};getPlugin=e=>this.plugins[e];async initialize(){Object.keys(this.appPlugins).forEach(e=>{this.appPlugins[e].register(this)})}injectContentManagerComponent=(e,s,i)=>{l()(this.admin.injectionZones.contentManager[e]?.[s],`The ${e} ${s} zone is not defined in the content manager`),l()(i,"A Component must be provided"),this.admin.injectionZones.contentManager[e][s].push(i)};injectAdminComponent=(e,s,i)=>{l()(this.admin.injectionZones.admin[e]?.[s],`The ${e} ${s} zone is not defined in the admin`),l()(i,"A Component must be provided"),this.admin.injectionZones.admin[e][s].push(i)};async loadAdminTrads(){const e=this.configurations.locales.map(r=>t(95423)(`./${r}.json`).then(({default:u})=>({data:u,locale:r})).catch(()=>({data:null,locale:r})));return(await Promise.all(e)).reduce((r,u)=>(u.data&&(r[u.locale]=u.data),r),{})}async loadTrads(){const e=await this.loadAdminTrads(),s=Object.keys(this.appPlugins).map(d=>{const S=this.appPlugins[d].registerTrads;return S?S({locales:this.configurations.locales}):null}).filter(d=>d),r=(await Promise.all(s)).reduce((d,S)=>{const O=S.reduce((N,K)=>(N[K.locale]=K.data,N),{});return Object.keys(O).forEach(N=>{d[N]={...d[N],...O[N]}}),d},{}),u=this.configurations.locales.reduce((d,S)=>(d[S]={...e[S],...r[S]||{},...this.customConfigurations?.translations?.[S]},d),{});return this.configurations.translations=u,Promise.resolve()}registerHook=(e,s)=>{l()(this.hooksDict[e],`The hook ${e} is not defined. You are trying to register a hook that does not exist in the application.`),this.hooksDict[e].register(s)};registerPlugin=e=>{const s=(0,Be.Sy)(e);this.plugins[s.pluginId]=s};runHookSeries=(e,s=!1)=>s?this.hooksDict[e].runSeriesAsync():this.hooksDict[e].runSeries();runHookWaterfall=(e,s,i=!1,r)=>i?this.hooksDict[e].runWaterfallAsync(s,r):this.hooksDict[e].runWaterfall(s,r);runHookParallel=e=>this.hooksDict[e].runParallel();render(){const e=this.createStore(),s=G()(ct,this.configurations.locales||[]),{components:{components:i},fields:{fields:r}}=this.library;return o.createElement(Qe,{authLogo:this.configurations.authLogo,components:i,fields:r,customFields:this.customFields,localeNames:s,getAdminInjectedComponents:this.getAdminInjectedComponents,getPlugin:this.getPlugin,messages:this.configurations.translations,menu:this.menu,menuLogo:this.configurations.menuLogo,plugins:this.plugins,runHookParallel:this.runHookParallel,runHookWaterfall:(u,d,S=!1)=>this.runHookWaterfall(u,d,S,e),runHookSeries:this.runHookSeries,themes:this.configurations.themes,settings:this.settings,showTutorials:this.configurations.tutorials,showReleaseNotification:this.configurations.notifications.releases,store:e},o.createElement(o.Fragment,null,o.createElement(le.q,{link:[{rel:"icon",type:"image/png",href:this.configurations.head.favicon}],htmlAttributes:{lang:localStorage.getItem(fe)||"en"}}),o.createElement(I.VK,{basename:_e.Z},o.createElement(ut,{store:e}))))}}const mt=({adminConfig:a={},appPlugins:e,library:s,middlewares:i,reducers:r})=>new dt({adminConfig:a,appPlugins:e,library:s,middlewares:i,reducers:r})},46061:(b,E,t)=>{"use strict";t.d(E,{JN:()=>c,ZP:()=>U,ik:()=>o,kb:()=>p});const o="GUIDED_TOUR_CURRENT_STEP",c="GUIDED_TOUR_COMPLETED_STEPS",p="GUIDED_TOUR_SKIPPED",g=JSON.parse,l=JSON.stringify,U={clear(){localStorage.removeItem(o),localStorage.removeItem(c)},addCompletedStep(h){const v=g(localStorage.getItem(c))?.slice()||[];v.includes(h)||(v.push(h),localStorage.setItem(c,l(v)))},addCurrentStep(h){localStorage.setItem(o,l(h))},setSkipped(h){localStorage.setItem(p,l(h))},get(h){return g(localStorage.getItem(h))}}},72955:(b,E,t)=>{"use strict";t.d(E,{Z:()=>p});var o=t(67294);const p=(0,o.createContext)()},18542:(b,E,t)=>{"use strict";t.d(E,{ux:()=>p,_5:()=>l,$l:()=>U,Rj:()=>v});var o=t(67294);const p=(0,o.createContext)({}),l=(0,o.createContext)({}),U=(0,o.createContext)({}),v=(0,o.createContext)({})},95651:(b,E,t)=>{"use strict";t.d(E,{Z:()=>c});const c="/admin/".replace(window.location.origin,"")},85338:(b,E,t)=>{"use strict";t.d(E,{Eo:()=>p,LK:()=>c,No:()=>o,dV:()=>g});const o="Admin/CM/pages/ListView/inject-column-in-table",c="Admin/CM/pages/App/mutate-collection-types-links",p="Admin/CM/pages/EditView/mutate-edit-view-layout",g="Admin/CM/pages/App/mutate-single-types-links"},72986:(b,E,t)=>{"use strict";t.d(E,{um:()=>o.Z,$_:()=>U,rW:()=>$,G4:()=>Le,Te:()=>Ne,M1:()=>He});var o=t(70701),c=t(92686),p=t(24717),g=t(67294),l=t(18542);const U=()=>(0,g.useContext)(l.$l);var h=t(57993);const $=(y,m,f,W)=>{const[oe,J]=(0,g.useState)(!1),ie=(0,h.lm)(),{post:Y}=(0,h.kY)(),{formatAPIError:ae}=(0,h.So)();return{regenerateData:async()=>{try{const{data:{data:{accessKey:A}}}=await Y(`${y}${m}/regenerate`);J(!1),f(A)}catch(A){J(!1),W?W(A):ie({type:"warning",message:ae(A)})}},isLoadingConfirmation:oe}},G=!JSON.parse(localStorage.getItem("STRAPI_UPDATE_NOTIF")),le=()=>{const{latestStrapiReleaseTag:y,shouldUpdateStrapi:m}=useAppInfo(),f=useNotification();return useEffect(()=>{m&&G&&f({type:"info",message:{id:"notification.version.update.message"},link:{url:`https://github.com/strapi/strapi/releases/tag/${y}`,label:{id:"global.see-more"}},blockTransition:!0,onClose:()=>localStorage.setItem("STRAPI_UPDATE_NOTIF",!0)})},[y,m,f]),null},I=null;var V=t(57557),pe=t.n(V),fe=t(26779);const B=(y,m)=>({...y,fieldsToPick:m});var n=t(18172),x=t(78718),D=t.n(x),w=t(36968),F=t.n(w),Z=t(98601),ue=t.n(Z);const X={fieldsToPick:[],formErrors:{},initialData:{},isLoading:!0,modifiedData:{},showHeaderButtonLoader:!1,showHeaderLoader:!0},ne=(y,m)=>(0,n.ZP)(y,f=>{switch(m.type){case"GET_DATA_SUCCEEDED":{f.isLoading=!1,f.showHeaderLoader=!1,f.initialData=D()(m.data,y.fieldsToPick),f.modifiedData=D()(m.data,y.fieldsToPick);break}case"ON_CANCEL":{f.modifiedData=y.initialData,f.formErrors={};break}case"ON_CHANGE":{m.inputType==="password"&&!m.value?ue()(f.modifiedData,m.keys.split(".")):m.keys.includes("username")&&!m.value?F()(f.modifiedData,m.keys.split("."),null):F()(f.modifiedData,m.keys.split("."),m.value);break}case"ON_SUBMIT":{f.showHeaderButtonLoader=!0;break}case"ON_SUBMIT_SUCCEEDED":{f.initialData=D()(m.data,y.fieldsToPick),f.modifiedData=D()(m.data,y.fieldsToPick),f.showHeaderButtonLoader=!1;break}case"SET_ERRORS":{f.formErrors=m.errors,f.showHeaderButtonLoader=!1;break}default:return f}}),Le=(y,m,f,W)=>{const[{formErrors:oe,initialData:J,isLoading:ie,modifiedData:Y,showHeaderButtonLoader:ae,showHeaderLoader:ce},A]=(0,g.useReducer)(ne,X,()=>B(X,W)),R=(0,h.lm)(),{lockApp:re,unlockApp:Se}=(0,h.o1)(),{get:de,put:me}=(0,h.kY)();return(0,g.useEffect)(()=>{y&&(async()=>{try{const{data:{data:j}}=await de(y);A({type:"GET_DATA_SUCCEEDED",data:j,fieldsToPick:W})}catch(j){console.error(j.response),R({type:"warning",message:{id:"notification.error"}})}})()},[y]),[{formErrors:oe,initialData:J,isLoading:ie,modifiedData:Y,showHeaderButtonLoader:ae,showHeaderLoader:ce},A,{handleCancel:()=>{A({type:"ON_CANCEL"})},handleChange:({target:{name:Q,value:j,type:C}})=>{A({type:"ON_CHANGE",inputType:C,keys:Q,value:j})},handleSubmit:async Q=>{Q.preventDefault();let j=null;try{await m.validate(Y,{abortEarly:!1})}catch(C){j=(0,h.CJ)(C)}if(A({type:"SET_ERRORS",errors:j||{}}),!j)try{re(),A({type:"ON_SUBMIT"});const C=pe()(Y,["confirmPassword","registrationToken"]);C.roles&&(C.roles=C.roles.map(q=>q.id)),C.ssoLockedRoles&&(C.ssoLockedRoles=[...new Set(C.ssoLockedRoles)]);const{data:{data:M}}=await me(y,C);f(M),A({type:"ON_SUBMIT_SUCCEEDED",data:M}),R({type:"success",message:{id:"notification.success.saved"}})}catch(C){const M=C?.response?.payload??{data:{}};M?.data&&typeof M.data=="string"?R({type:"warning",message:M.data}):R({type:"warning",message:M.message});const q=(0,fe.I)(M);A({type:"SET_ERRORS",errors:q})}finally{Se()}},setField:(Q,j)=>{A({type:"ON_CHANGE",keys:Q,value:j})}}]};var je=t(86706),be=t(36364),ye=t(80902);const z={global:[{intlLabel:{id:"Settings.application.title",defaultMessage:"Overview"},to:"/settings/application-infos",id:"000-application-infos",permissions:[]},{intlLabel:{id:"Settings.webhooks.title",defaultMessage:"Webhooks"},to:"/settings/webhooks",id:"webhooks"},{intlLabel:{id:"Settings.apiTokens.title",defaultMessage:"API Tokens"},to:"/settings/api-tokens?sort=name:ASC",id:"api-tokens"},{intlLabel:{id:"Settings.transferTokens.title",defaultMessage:"Transfer Tokens"},to:"/settings/transfer-tokens?sort=name:ASC",id:"transfer-tokens"}],admin:[{intlLabel:{id:"global.roles",defaultMessage:"Roles"},to:"/settings/roles",id:"roles"},{intlLabel:{id:"global.users"},to:"/settings/users?pageSize=10&page=1&sort=firstname",id:"users"}]},De=y=>y.map(m=>{const f=m.links.map(W=>({...W,isDisplayed:!1}));return{...m,links:f}});var ke=t(89734),ve=t.n(ke);const Me=y=>ve()(y,m=>m.id),Ne=()=>{const[{isLoading:y,menu:m},f]=(0,g.useState)({isLoading:!0,menu:[]}),{allPermissions:W}=(0,h.vn)(),{shouldUpdateStrapi:oe}=(0,h.L7)(),{settings:J}=(0,h.j1)(),ie=(0,je.v9)(be._),{global:Y,admin:ae}=(0,ye.c)(z,async()=>(await t.e(3683).then(t.bind(t,53683))).LINKS_EE,{combine(R,re){return{admin:[...re.admin,...R.admin],global:[...R.global,...re.global]}},defaultValue:{admin:[],global:[]}}),ce=(0,g.useCallback)(R=>{if(!R.id)throw new Error("The settings menu item must have an id attribute.");return{...R,permissions:ie.settings?.[R.id]?.main}},[ie.settings]);(0,g.useEffect)(()=>{const R=async()=>{const Ce=await(ge=>Promise.all(ge.reduce((he,Ee,Q)=>{const j=C=>C.map(async(M,q)=>({hasPermission:await(0,h.qX)(W,M.permissions),sectionIndex:Q,linkIndex:q}));return[...he,...j(Ee.links)]},[])))(de);f(ge=>({...ge,isLoading:!1,menu:de.map((he,Ee)=>({...he,links:he.links.map((Q,j)=>{const C=Ce.find(M=>M.sectionIndex===Ee&&M.linkIndex===j);return{...Q,isDisplayed:Boolean(C.hasPermission)}})}))}))},{global:re,...Se}=J,de=De([{...J.global,links:Me([...J.global.links,...Y.map(ce)]).map(me=>({...me,hasNotification:me.id==="000-application-infos"&&oe}))},{id:"permissions",intlLabel:{id:"Settings.permissions",defaultMessage:"Administration Panel"},links:ae.map(ce)},...Object.values(Se)]);R()},[ae,Y,W,J,oe,ce]);const A=R=>({...R,links:R.links.filter(re=>re.isDisplayed)});return{isLoading:y,menu:m.map(A)}},He=()=>(0,g.useContext)(l.Rj)},70701:(b,E,t)=>{"use strict";t.d(E,{Z:()=>g});var o=t(67294),c=t(18542);const g=()=>(0,o.useContext)(c._5)},92686:(b,E,t)=>{"use strict";t.d(E,{G:()=>p});var o=t(57993),c=t(88767);function p(){const{get:g}=(0,o.kY)(),{formatAPIError:l}=(0,o.So)(),H=(0,o.lm)(),U=(0,c.useQueries)(["components","content-types"].map(I=>({queryKey:["content-manager",I],async queryFn(){const{data:{data:V}}=await g(`/content-manager/${I}`);return V},onError(V){H({type:"warning",message:l(V)})}}))),[h,v]=U,$=h.isLoading||v.isLoading,G=(v?.data??[]).filter(I=>I.kind==="collectionType"&&I.isDisplayed),le=(v?.data??[]).filter(I=>I.kind!=="collectionType"&&I.isDisplayed);return{isLoading:$,components:h?.data??[],collectionTypes:G,singleTypes:le}}},80902:(b,E,t)=>{"use strict";t.d(E,{c:()=>g});var o=t(67294),c=t(57993);function p(){return window.strapi.isEE}function g(l,H,{defaultValue:U=null,combine:h=($,G)=>G,enabled:v=!0}={}){const $=(0,c.W6)(H),G=(0,c.W6)(h),[{data:le},I]=o.useState({data:p()&&v?U:l});return o.useEffect(()=>{async function V(){const pe=await $();I({data:G(l,pe)})}p()&&v&&V()},[l,$,G,v]),le}},24717:(b,E,t)=>{"use strict";t.d(E,{Z:()=>T});var o=t(67294),c=t(57993),p=t(41916),g=t(48077),l=t(78114),H=t(86706),U=t(36364),h=t(50361),v=t.n(h);const G=(B,n)=>n.map(({permissions:x})=>(0,c.qX)(B,x)),I=async(B,n,x)=>{const D=G(B,n),w=await Promise.all(D),F=n.filter((X,ne)=>w[ne]),Z=F.findIndex(X=>X.to==="/settings");if(Z===-1)return[];const ue=v()(F);return ue[Z].notificationsCount=x?1:0,ue},pe=async(B,n)=>{const x=G(B,n),D=await Promise.all(x);return n.filter((F,Z)=>D[Z])},T=()=>{const{allPermissions:B}=(0,c.vn)(),{shouldUpdateStrapi:n}=(0,c.L7)(),{menu:x}=(0,c.j1)(),D=(0,H.v9)(U._),[w,F]=o.useState({generalSectionLinks:[{icon:p.Z,intlLabel:{id:"global.plugins",defaultMessage:"Plugins"},to:"/list-plugins",permissions:D.marketplace.main},{icon:g.Z,intlLabel:{id:"global.marketplace",defaultMessage:"Marketplace"},to:"/marketplace",permissions:D.marketplace.main},{icon:l.Z,intlLabel:{id:"global.settings",defaultMessage:"Settings"},to:"/settings",permissions:[],notificationsCount:0}],pluginsSectionLinks:[],isLoading:!0}),Z=o.useRef(w.generalSectionLinks);return o.useEffect(()=>{async function ue(){const X=await pe(B,x),ne=await I(B,Z.current,n);F(Te=>({...Te,generalSectionLinks:ne,pluginsSectionLinks:X,isLoading:!1}))}ue()},[F,Z,B,x,D,n]),w}},36364:(b,E,t)=>{"use strict";t.d(E,{_:()=>g});var o=t(20573),c=t(8539);const p=()=>l=>l.admin_app||c.E,g=(0,o.P1)(p(),l=>l.permissions)},26779:(b,E,t)=>{"use strict";t.d(E,{I:()=>o});const o=({data:c})=>{try{return Object.keys(c).reduce((p,g)=>{const l=c[g][0];return p[g]={id:l,defaultMessage:l},p},{})}catch{return{}}}},61473:(b,E,t)=>{"use strict";b.exports=t.p+"70674f63fc3904c20de0.svg"}}]);
