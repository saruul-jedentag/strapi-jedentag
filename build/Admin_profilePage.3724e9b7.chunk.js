"use strict";(self.webpackChunkbackend_jedentag=self.webpackChunkbackend_jedentag||[]).push([[9497],{41995:(W,E,t)=>{t.d(E,{Z:()=>M});var e=t(67294),s=t(72955);const M=()=>{const{changeLocale:L,localeNames:S,messages:d}=(0,e.useContext)(s.Z);return{changeLocale:L,localeNames:S,messages:d}}},3549:(W,E,t)=>{t.r(E),t.d(E,{ProfilePage:()=>me});var e=t(67294),s=t(14087),v=t(185),M=t(53979),L=t(49066),S=t(29728),d=t(41580),w=t(11047),r=t(57993),A=t(85018),T=t(41054),I=t(64593),a=t(86896),c=t(88767),f=t(41995),g=t(72986),p=t(78607),P=t(16364),D=t(25752),b=t(75515),U=t(11276),y=t(67819),z=t(8934),Q=t(94123),ae=t(45697),n=t.n(ae),J=t(88972);const V=(0,J.ZP)(P.o)`
  ::-ms-reveal {
    display: none;
  }
`,$=(0,J.ZP)(D.E)`
  svg {
    height: ${(0,r.Q1)(16)};
    width: ${(0,r.Q1)(16)};
    path {
      fill: ${({theme:o})=>o.colors.neutral600};
    }
  }
`,G=({errors:o,onChange:h,values:x})=>{const{formatMessage:u}=(0,a.Z)(),[l,F]=(0,e.useState)(!1),[i,N]=(0,e.useState)(!1),[H,k]=(0,e.useState)(!1);return e.createElement(d.x,{background:"neutral0",hasRadius:!0,shadow:"filterShadow",paddingTop:6,paddingBottom:6,paddingLeft:7,paddingRight:7},e.createElement(w.k,{direction:"column",alignItems:"stretch",gap:4},e.createElement(b.Z,{variant:"delta",as:"h2"},u({id:"global.change-password",defaultMessage:"Change password"})),e.createElement(U.r,{gap:5},e.createElement(y.P,{s:12,col:6},e.createElement(P.o,{error:o.currentPassword?u({id:o.currentPassword,defaultMessage:o.currentPassword}):"",onChange:h,value:x.currentPassword,label:u({id:"Auth.form.currentPassword.label",defaultMessage:"Current Password"}),name:"currentPassword",type:l?"text":"password",endAction:e.createElement($,{onClick:R=>{R.stopPropagation(),F(O=>!O)},label:u(l?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},l?e.createElement(z.Z,null):e.createElement(Q.Z,null))}))),e.createElement(U.r,{gap:5},e.createElement(y.P,{s:12,col:6},e.createElement(V,{error:o.password?u({id:o.password,defaultMessage:o.password}):"",onChange:h,value:x.password,label:u({id:"global.password",defaultMessage:"Password"}),name:"password",type:i?"text":"password",autoComplete:"new-password",endAction:e.createElement($,{onClick:R=>{R.stopPropagation(),N(O=>!O)},label:u(i?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},i?e.createElement(z.Z,null):e.createElement(Q.Z,null))})),e.createElement(y.P,{s:12,col:6},e.createElement(V,{error:o.confirmPassword?u({id:o.confirmPassword,defaultMessage:o.confirmPassword}):"",onChange:h,value:x.confirmPassword,label:u({id:"Auth.form.confirmPassword.label",defaultMessage:"Password confirmation"}),name:"confirmPassword",type:H?"text":"password",autoComplete:"new-password",endAction:e.createElement($,{onClick:R=>{R.stopPropagation(),k(O=>!O)},label:u(H?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},H?e.createElement(z.Z,null):e.createElement(Q.Z,null))})))))};G.propTypes={errors:n().shape({currentPassword:n().string,password:n().string,confirmPassword:n().string}),onChange:n().func,values:n().shape({currentPassword:n().string,password:n().string,confirmPassword:n().string})},G.defaultProps={errors:{},onChange(){},values:{currentPassword:"",password:"",confirmPassword:""}};const se=G;var q=t(40619),_=t(82562),ne=t(11700),re=t.n(ne);const X=({onChange:o,values:h,localeNames:x,allApplicationThemes:u})=>{const{formatMessage:l}=(0,a.Z)(),F=Object.keys(u).filter(i=>u[i]);return e.createElement(d.x,{background:"neutral0",hasRadius:!0,shadow:"filterShadow",paddingTop:6,paddingBottom:6,paddingLeft:7,paddingRight:7},e.createElement(w.k,{direction:"column",alignItems:"stretch",gap:4},e.createElement(w.k,{direction:"column",alignItems:"stretch",gap:1},e.createElement(b.Z,{variant:"delta",as:"h2"},l({id:"Settings.profile.form.section.experience.title",defaultMessage:"Experience"})),e.createElement(b.Z,null,l({id:"Settings.profile.form.section.experience.interfaceLanguageHelp",defaultMessage:"Preference changes will apply only to you. More information is available {here}."},{here:e.createElement(d.x,{as:"a",color:"primary600",target:"_blank",rel:"noopener noreferrer",href:"https://docs.strapi.io/developer-docs/latest/development/admin-customization.html#locales"},l({id:"Settings.profile.form.section.experience.here",defaultMessage:"here"}))}))),e.createElement(U.r,{gap:5},e.createElement(y.P,{s:12,col:6},e.createElement(q.P,{label:l({id:"Settings.profile.form.section.experience.interfaceLanguage",defaultMessage:"Interface language"}),placeholder:l({id:"global.select",defaultMessage:"Select"}),hint:l({id:"Settings.profile.form.section.experience.interfaceLanguage.hint",defaultMessage:"This will only display your own interface in the chosen language."}),onClear:()=>{o({target:{name:"preferedLanguage",value:null}})},clearLabel:l({id:"Settings.profile.form.section.experience.clear.select",defaultMessage:"Clear the interface language selected"}),value:h.preferedLanguage,onChange:i=>{o({target:{name:"preferedLanguage",value:i}})}},Object.entries(x).map(([i,N])=>e.createElement(_.W,{value:i,key:i},N)))),e.createElement(y.P,{s:12,col:6},e.createElement(q.P,{label:l({id:"Settings.profile.form.section.experience.mode.label",defaultMessage:"Interface mode"}),placeholder:l({id:"components.Select.placeholder",defaultMessage:"Select"}),hint:l({id:"Settings.profile.form.section.experience.mode.hint",defaultMessage:"Displays your interface in the chosen mode."}),value:h.currentTheme,onChange:i=>{o({target:{name:"currentTheme",value:i}})}},F.map(i=>e.createElement(_.W,{value:i,key:i},l({id:"Settings.profile.form.section.experience.mode.option-label",defaultMessage:"{name} mode"},{name:l({id:i,defaultMessage:re()(i)})}))))))))};X.propTypes={allApplicationThemes:n().object,onChange:n().func,values:n().shape({preferedLanguage:n().string,currentTheme:n().string}),localeNames:n().object},X.defaultProps={allApplicationThemes:{},onChange(){},values:{preferedLanguage:null,currentTheme:""},localeNames:{}};const oe=X,Y=({errors:o,onChange:h,values:x})=>{const{formatMessage:u}=(0,a.Z)();return e.createElement(d.x,{background:"neutral0",hasRadius:!0,shadow:"filterShadow",paddingTop:6,paddingBottom:6,paddingLeft:7,paddingRight:7},e.createElement(w.k,{direction:"column",alignItems:"stretch",gap:4},e.createElement(b.Z,{variant:"delta",as:"h2"},u({id:"global.profile",defaultMessage:"Profile"})),e.createElement(U.r,{gap:5},e.createElement(y.P,{s:12,col:6},e.createElement(r.jm,{intlLabel:{id:"Auth.form.firstname.label",defaultMessage:"First name"},error:o.firstname,onChange:h,value:x.firstname,type:"text",name:"firstname",required:!0})),e.createElement(y.P,{s:12,col:6},e.createElement(r.jm,{intlLabel:{id:"Auth.form.lastname.label",defaultMessage:"Last name"},error:o.lastname,onChange:h,value:x.lastname,type:"text",name:"lastname"})),e.createElement(y.P,{s:12,col:6},e.createElement(r.jm,{intlLabel:{id:"Auth.form.email.label",defaultMessage:"Email"},error:o.email,onChange:h,value:x.email,type:"email",name:"email",required:!0})),e.createElement(y.P,{s:12,col:6},e.createElement(r.jm,{intlLabel:{id:"Auth.form.username.label",defaultMessage:"Username"},error:o.username,onChange:h,value:x.username,type:"text",name:"username"})))))};Y.propTypes={errors:n().shape({firstname:n().string,lastname:n().string,username:n().string,email:n().string}),onChange:n().func,values:n().shape({firstname:n().string,lastname:n().string,username:n().string,email:n().string})},Y.defaultProps={errors:{},onChange(){},values:{firstname:"",lastname:"",username:"",email:""}};const le=Y;var ie=t(87561),de=t(39394);const ce=ie.Ry().shape(de.Rw),me=()=>{const{changeLocale:o,localeNames:h}=(0,f.Z)(),{setUserDisplayName:x}=(0,r.L7)(),u=(0,c.useQueryClient)(),{formatMessage:l}=(0,a.Z)(),{trackUsage:F}=(0,r.rS)(),i=(0,r.lm)(),{lockApp:N,unlockApp:H}=(0,r.o1)(),{notifyStatus:k}=(0,s.G)(),{currentTheme:R,themes:O,onChangeTheme:ue}=(0,g.M1)(),{get:ee,put:ge}=(0,r.kY)();(0,r.go)();const{isLoading:pe,data:K}=(0,c.useQuery)("user",async()=>{const{data:m}=await ee("/admin/users/me");return m.data},{onSuccess(){k(l({id:"Settings.profile.form.notify.data.loaded",defaultMessage:"Your profile data has been loaded"}))},onError(){i({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}}),{isLoading:fe,data:he}=(0,c.useQuery)(["providers","isSSOLocked"],async()=>{const{data:{data:m}}=await ee("/admin/providers/isSSOLocked");return m},{enabled:window.strapi.isEE&&window.strapi.features.isEnabled("sso"),onError(){i({type:"warning",message:{id:"Settings.permissions.users.sso.provider.error"}})}}),Ee=pe||fe,te=(0,c.useMutation)(async m=>{const{confirmPassword:j,currentTheme:C,...B}=m,{data:Z}=await ge("/admin/users/me",B);return{...Z.data,currentTheme:m.currentTheme}},{async onSuccess(m){await u.invalidateQueries("user");const{email:j,firstname:C,lastname:B,username:Z,preferedLanguage:Te}=m;r.I8.setUserInfo({email:j,firstname:C,lastname:B,username:Z,preferedLanguage:Te});const Ie=m.username||(0,p.P)(m.firstname,m.lastname);x(Ie),o(m.preferedLanguage),ue(m.currentTheme),F("didChangeMode",{newMode:m.currentTheme}),i({type:"success",message:{id:"notification.success.saved",defaultMessage:"Saved"}})},onSettled(){H()},refetchActive:!0}),{isLoading:ve}=te,we=async(m,{setErrors:j})=>{N();const C=m.username||null;te.mutate({...m,username:C},{onError(B){const Z=B?.response?.data;return Z?.data?j(Z.data):i({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}})};if(Ee)return e.createElement(v.o,{"aria-busy":"true"},e.createElement(I.q,{title:l({id:"Settings.profile.form.section.helmet.title",defaultMessage:"User profile"})}),e.createElement(M.T,{title:l({id:"Settings.profile.form.section.profile.page.title",defaultMessage:"Profile page"})}),e.createElement(L.D,null,e.createElement(r.dO,null)));const Pe=he?.isSSOLocked??!1,{email:ye,firstname:xe,lastname:Me,username:Le,preferedLanguage:Se}=K,Ae={email:ye,firstname:xe,lastname:Me,username:Le,preferedLanguage:Se,currentTheme:R};return e.createElement(v.o,{"aria-busy":ve},e.createElement(I.q,{title:l({id:"Settings.profile.form.section.helmet.title",defaultMessage:"User profile"})}),e.createElement(T.J9,{onSubmit:we,initialValues:Ae,validateOnChange:!1,validationSchema:ce,enableReinitialize:!0},({errors:m,values:j,handleChange:C,isSubmitting:B,dirty:Z})=>e.createElement(r.l0,null,e.createElement(M.T,{title:K.username||(0,p.P)(K.firstname,K.lastname),primaryAction:e.createElement(S.z,{startIcon:e.createElement(A.Z,null),loading:B,type:"submit",disabled:!Z},l({id:"global.save",defaultMessage:"Save"}))}),e.createElement(d.x,{paddingBottom:10},e.createElement(L.D,null,e.createElement(w.k,{direction:"column",alignItems:"stretch",gap:6},e.createElement(le,{errors:m,onChange:C,values:j}),!Pe&&e.createElement(se,{errors:m,onChange:C,values:j}),e.createElement(oe,{allApplicationThemes:O,onChange:C,values:j,localeNames:h})))))))}},39394:(W,E,t)=>{t.d(E,{YM:()=>r,Rw:()=>L});var e=t(87561),s=t(57993);const v={firstname:e.Z_().trim().required(s.I0.required),lastname:e.Z_(),email:e.Z_().email(s.I0.email).lowercase().required(s.I0.required),username:e.Z_().nullable(),password:e.Z_().min(8,s.I0.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number"),confirmPassword:e.Z_().min(8,s.I0.minLength).oneOf([e.iH("password"),null],"components.Input.error.password.noMatch").when("password",(A,T)=>A?T.required(s.I0.required):T)},L={...v,currentPassword:e.Z_().when(["password","confirmPassword"],(A,T,I)=>A||T?I.required(s.I0.required):I),preferedLanguage:e.Z_().nullable()},d={roles:e.IX().min(1,s.I0.required).required(s.I0.required)},r=e.Ry().shape({...v,isActive:e.Xg(),...d})},49066:(W,E,t)=>{t.d(E,{D:()=>v});var e=t(85893),s=t(41580);const v=({children:M})=>(0,e.jsx)(s.x,{paddingLeft:10,paddingRight:10,children:M})},53979:(W,E,t)=>{t.d(E,{T:()=>A});var e=t(85893),s=t(67294),v=t(88972);const M=a=>{const c=(0,s.useRef)(null),[f,g]=(0,s.useState)(!0),p=([P])=>{g(P.isIntersecting)};return(0,s.useEffect)(()=>{const P=c.current,D=new IntersectionObserver(p,a);return P&&D.observe(c.current),()=>{P&&D.disconnect()}},[c,a]),[c,f]};var L=t(79698);const S=(a,c)=>{const f=(0,L.W)(c);(0,s.useLayoutEffect)(()=>{const g=new ResizeObserver(f);return Array.isArray(a)?a.forEach(p=>{p.current&&g.observe(p.current)}):a.current&&g.observe(a.current),()=>{g.disconnect()}},[a,f])};var d=t(41580),w=t(11047),r=t(75515);const A=a=>{const c=(0,s.useRef)(null),[f,g]=(0,s.useState)(null),[p,P]=M({root:null,rootMargin:"0px",threshold:0});return S(p,()=>{p.current&&g(p.current.getBoundingClientRect())}),(0,s.useEffect)(()=>{c.current&&g(c.current.getBoundingClientRect())},[c]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{style:{height:f?.height},ref:p,children:P&&(0,e.jsx)(I,{ref:c,...a})}),!P&&(0,e.jsx)(I,{...a,sticky:!0,width:f?.width})]})};A.displayName="HeaderLayout";const T=(0,v.ZP)(d.x)`
  width: ${({width:a})=>a?`${a/16}rem`:void 0};
  z-index: ${({theme:a})=>a.zIndices[1]};
`,I=s.forwardRef(({navigationAction:a,primaryAction:c,secondaryAction:f,subtitle:g,title:p,sticky:P,width:D,...b},U)=>{const y=typeof g=="string";return P?(0,e.jsx)(T,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,position:"fixed",top:0,right:0,background:"neutral0",shadow:"tableShadow",width:D,"data-strapi-header-sticky":!0,children:(0,e.jsxs)(w.k,{justifyContent:"space-between",children:[(0,e.jsxs)(w.k,{children:[a&&(0,e.jsx)(d.x,{paddingRight:3,children:a}),(0,e.jsxs)(d.x,{children:[(0,e.jsx)(r.Z,{variant:"beta",as:"h1",...b,children:p}),y?(0,e.jsx)(r.Z,{variant:"pi",textColor:"neutral600",children:g}):g]}),f?(0,e.jsx)(d.x,{paddingLeft:4,children:f}):null]}),(0,e.jsx)(w.k,{children:c?(0,e.jsx)(d.x,{paddingLeft:2,children:c}):void 0})]})}):(0,e.jsxs)(d.x,{ref:U,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:a?6:8,background:"neutral100","data-strapi-header":!0,children:[a?(0,e.jsx)(d.x,{paddingBottom:2,children:a}):null,(0,e.jsxs)(w.k,{justifyContent:"space-between",children:[(0,e.jsxs)(w.k,{minWidth:0,children:[(0,e.jsx)(r.Z,{as:"h1",variant:"alpha",...b,children:p}),f?(0,e.jsx)(d.x,{paddingLeft:4,children:f}):null]}),c]}),y?(0,e.jsx)(r.Z,{variant:"epsilon",textColor:"neutral600",as:"p",children:g}):g]})})},185:(W,E,t)=>{t.d(E,{o:()=>L});var e=t(85893),s=t(88972),v=t(41580);const M=(0,s.ZP)(v.x)`
  // To prevent global outline on focus visible to force an outline when Main is focused
  &:focus-visible {
    outline: none;
  }
`,L=({labelledBy:S="main-content-title",...d})=>(0,e.jsx)(M,{"aria-labelledby":S,as:"main",id:"main-content",tabIndex:-1,...d})}}]);
