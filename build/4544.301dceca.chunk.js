(self.webpackChunkbackend_jedentag=self.webpackChunkbackend_jedentag||[]).push([[4544],{84544:(D,C,c)=>{"use strict";c.r(C),c.d(C,{AuthResponse:()=>r,default:()=>E});var i=c(67294),d=c(57993),l=c(36808),p=c.n(l),g=c(86896),n=c(16550);const r=()=>{const{params:{authResponse:_}}=(0,n.$B)("/auth/login/:authResponse"),{formatMessage:t}=(0,g.Z)(),{push:o}=(0,n.k6)(),e=(0,i.useRef)(t);let f=(0,i.useCallback)(()=>{o(`/auth/oops?info=${encodeURIComponent(e.current({id:"Auth.form.button.login.providers.error",defaultMessage:"We cannot connect you through the selected provider."}))}`)},[o]);const{get:u}=(0,d.kY)(),a=(0,i.useCallback)(async()=>{try{const s=p().get("jwtToken");if(d.I8.clearAppStorage(),s){d.I8.setToken(s,!0);const h="/admin/users/me",{data:{data:A}}=await u(h);d.I8.setUserInfo(A,!0),p().remove("jwtToken"),o("/auth/login")}}catch{f()}},[u,o,f]);return(0,i.useEffect)(()=>{_==="error"&&f(),_==="success"&&a()},[_,a,f]),i.createElement(d.dO,null)},E=r},36808:(D,C,c)=>{var i,d;/*!
* JavaScript Cookie v2.2.1
* https://github.com/js-cookie/js-cookie
*
* Copyright 2006, 2015 Klaus Hartl & Fagner Brack
* Released under the MIT license
*/(function(l){var p;if(i=l,d=typeof i=="function"?i.call(C,c,C,D):i,d!==void 0&&(D.exports=d),p=!0,D.exports=l(),p=!0,!p){var g=window.Cookies,n=window.Cookies=l();n.noConflict=function(){return window.Cookies=g,n}}})(function(){function l(){for(var n=0,r={};n<arguments.length;n++){var E=arguments[n];for(var _ in E)r[_]=E[_]}return r}function p(n){return n.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function g(n){function r(){}function E(t,o,e){if(!(typeof document>"u")){e=l({path:"/"},r.defaults,e),typeof e.expires=="number"&&(e.expires=new Date(new Date*1+e.expires*864e5)),e.expires=e.expires?e.expires.toUTCString():"";try{var f=JSON.stringify(o);/^[\{\[]/.test(f)&&(o=f)}catch{}o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var u="";for(var a in e)e[a]&&(u+="; "+a,e[a]!==!0&&(u+="="+e[a].split(";")[0]));return document.cookie=t+"="+o+u}}function _(t,o){if(!(typeof document>"u")){for(var e={},f=document.cookie?document.cookie.split("; "):[],u=0;u<f.length;u++){var a=f[u].split("="),s=a.slice(1).join("=");!o&&s.charAt(0)==='"'&&(s=s.slice(1,-1));try{var h=p(a[0]);if(s=(n.read||n)(s,h)||p(s),o)try{s=JSON.parse(s)}catch{}if(e[h]=s,t===h)break}catch{}}return t?e[t]:e}}return r.set=E,r.get=function(t){return _(t,!1)},r.getJSON=function(t){return _(t,!0)},r.remove=function(t,o){E(t,"",l(o,{expires:-1}))},r.defaults={},r.withConverter=g,r}return g(function(){})})}}]);
